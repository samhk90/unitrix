<div class="sidebar-container h-full relative" [ngClass]="{'expanded': !isCollapsed}" 
     (touchstart)="onTouchStart($event)" 
     (touchmove)="onTouchMove($event)">
  
  <!-- Mobile overlay -->
  <div *ngIf="isMobile && !isCollapsed" 
       class="fixed inset-0 bg-black/30 backdrop-blur-md z-40 transition-all duration-500"
       (click)="toggleSidebar()">
  </div>

  <!-- Toggle button -->
  <button 
    class="absolute md:top-18 top-2 -right-4 z-[60] p-2.5 rounded-full focus:outline-none transition-all duration-300
           bg-white backdrop-blur-xl border border-gray-100
           shadow-lg hover:shadow-xl hover:border-blue-300
           hover:scale-110 active:scale-95 group"
    (click)="toggleSidebar()">
    <svg *ngIf="isCollapsed" xmlns="http://www.w3.org/2000/svg" 
         class="h-4 w-4 text-blue-600 transition-transform group-hover:translate-x-0.5" 
         fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
    </svg>
    <svg *ngIf="!isCollapsed" xmlns="http://www.w3.org/2000/svg" 
         class="h-4 w-4 text-blue-600 transition-transform group-hover:-translate-x-0.5" 
         fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
    </svg>
  </button>

  <!-- Sidebar -->
  <aside class="fixed md:relative h-full flex flex-col transition-all duration-300 ease-in-out z-50" 
         [ngClass]="{
           'w-65': !isCollapsed,
           'w-24': isCollapsed
         }">
    <div class="h-full flex flex-col bg-gradient-to-br from-white via-gray-50 to-blue-50 shadow-2xl relative overflow-hidden
                border-r border-blue-100">
      <!-- Logo section -->
      <div class="flex items-center p-6 border-b border-blue-100/30 backdrop-blur-sm relative">
        <div class="flex items-center gap-4">
          <div class="relative w-10 h-10 flex-shrink-0 group">
            <div class="absolute inset-0 bg-gradient-to-tr from-blue-600 to-indigo-600 rounded-xl 
                        transform transition-all duration-300 hover:scale-110 group-hover:rotate-6
                        shadow-lg shadow-blue-500/30">
              <div class="w-full h-full flex items-center justify-center backdrop-blur-sm">
                <span class="text-white font-bold text-xl select-none">E</span>
              </div>
            </div>
          </div>
          <div class="transition-all duration-300 overflow-hidden flex-shrink min-w-0" 
               [ngClass]="{'w-0 opacity-0': isCollapsed, 'w-auto opacity-100': !isCollapsed}">
            <h2 class="text-xl font-bold bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-transparent
                       transform transition-all duration-300 hover:scale-105 select-none">
              EduVerse
            </h2>
          </div>
        </div>
      </div>

      <!-- User Profile Section -->
      <div class="flex  px-4 py-5 border-b border-blue-100/30" [ngClass]="{'text-center': isCollapsed}">
        <div class="relative inline-block">
          <img [src]="userProfile.photoUrl" 
               alt="Profile picture" 
               class="w-12 h-12 rounded-full border-2 border-white shadow-lg transition-transform duration-300 hover:scale-105"
               [ngClass]="{'mx-auto': isCollapsed}">
          <span class="absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-green-400 border-2 border-white"></span>
        </div>
        
        <div class="mt-3 mx-2 transition-all duration-300" [ngClass]="{'hidden': isCollapsed}">
          <h3 class="text-sm font-semibold text-gray-800">{{userProfile.name}}</h3>
          <p class="text-xs text-gray-500">{{userProfile.role}}</p>
          
        </div>
      </div>

      <!-- Navigation -->
      <nav class="flex-1 overflow-y-auto py-4 px-3">
        <ul class="space-y-2">
          <!-- Dashboard -->
          <li class="relative group">
            <div class="relative">
              <div *ngIf="activeRoute === '/dashboard'" 
                   class="absolute left-0 top-0 w-1.5 h-full bg-gradient-to-b from-blue-500 to-indigo-600 rounded-r-full"></div>
              
              <a [routerLink]="'/dashboard'"
                 routerLinkActive="active"
                 (click)="setActiveRoute('/dashboard'); closeAllSubmenus()"
                 class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 ease-in-out
                        hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 group"
                 [ngClass]="{'bg-white shadow-lg': activeRoute === '/dashboard'}">
              
                <div class="flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300
                            group-hover:bg-blue-100 group-hover:text-blue-600"
                     [ngClass]="{'bg-blue-100': activeRoute === '/dashboard'}">
                  <!-- Dashboard SVG Icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                       class="w-5 h-5" [ngClass]="{
                         'text-blue-600': activeRoute === '/dashboard',
                         'text-gray-500 group-hover:text-blue-600': activeRoute !== '/dashboard'
                       }">
                    <rect x="3" y="3" width="7" height="9" rx="1" />
                    <rect x="14" y="3" width="7" height="5" rx="1" />
                    <rect x="14" y="12" width="7" height="9" rx="1" />
                    <rect x="3" y="16" width="7" height="5" rx="1" />
                  </svg>
                </div>
                
                <span class="ml-3 text-sm font-medium transition-all duration-300"
                      [ngClass]="{
                        'opacity-0 w-0': isCollapsed,
                        'opacity-100': !isCollapsed,
                        'text-blue-600 font-semibold': activeRoute === '/dashboard',
                        'text-gray-700': activeRoute !== '/dashboard'
                      }">
                  Dashboard
                </span>
              </a>
            </div>
          </li>

          <!-- Academics with submenu -->
          <li class="relative group">
            <div class="relative">
              <div *ngIf="activeRoute.startsWith('/academics')" 
                   class="absolute left-0 top-0 w-1.5 h-full bg-gradient-to-b from-blue-500 to-indigo-600 rounded-r-full text-left"></div>
              
              <button (click)="toggleSubmenu(menuItems[1])"
                     class="w-full flex items-center px-4 py-3 rounded-xl transition-all duration-200 ease-in-out
                            hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 group"
                     [ngClass]="{'bg-white/70 shadow-lg': activeRoute.startsWith('/academics')}">
                
                <div class="flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300
                            group-hover:bg-blue-100 group-hover:text-blue-600"
                     [ngClass]="{'bg-blue-100': activeRoute.startsWith('/academics')}">
                  <!-- Academics SVG Icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                       class="w-5 h-5" [ngClass]="{
                         'text-blue-600': activeRoute.startsWith('/academics'),
                         'text-gray-500 group-hover:text-blue-600': !activeRoute.startsWith('/academics')
                       }">
                    <path d="M12 2l10 5v10l-10 5-10-5V7z" />
                    <path d="M12 22v-6.5" />
                    <path d="M22 12l-10 5-10-5" />
                    <path d="M2 7l10 5 10-5" />
                  </svg>
                </div>
                
                <span class="ml-3 text-left text-sm font-medium flex-1 transition-all duration-300"
                      [ngClass]="{
                        'opacity-0 w-0': isCollapsed,
                        'opacity-100': !isCollapsed,
                        'text-blue-600 font-semibold': activeRoute.startsWith('/academics'),
                        'text-gray-700': !activeRoute.startsWith('/academics')
                      }">
                  Academics
                </span>
                
                <div class="transition-all duration-300"
                     [ngClass]="{'opacity-0 w-0': isCollapsed, 'opacity-100': !isCollapsed}">
                  <!-- Arrow Icon SVG -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" 
                       stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                       class="w-3.5 h-3.5 transition-transform duration-300"
                       [ngClass]="{
                         'rotate-90 text-blue-600': menuItems[1].isExpanded,
                         'text-gray-400 group-hover:text-gray-700': !menuItems[1].isExpanded
                       }">
                    <polyline points="9 18 15 12 9 6"></polyline>
                  </svg>
                </div>
              </button>
            </div>

            <!-- Academics Submenu -->
            <div class="overflow-hidden transition-all duration-300 ease-in-out pl-4 mt-1"
                 [ngClass]="{
                   'max-h-0': !menuItems[1].isExpanded || isCollapsed,
                   'max-h-96': menuItems[1].isExpanded && !isCollapsed
                 }">
              <ul class="space-y-1">
                <!-- Attendance -->
                <li class="group">
                  <a [routerLink]="'/academics/attendance'"
                     routerLinkActive="active"
                     (click)="setActiveRoute('/academics/attendance')"
                     class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 ease-in-out
                            hover:bg-white hover:shadow-md hover:shadow-blue-500/5 group"
                     [ngClass]="{'bg-white shadow-md': activeRoute === '/academics/attendance'}">
                    
                    <div class="flex items-center justify-center w-6 h-6 rounded-md transition-all duration-300
                                group-hover:bg-blue-50 group-hover:text-blue-600"
                         [ngClass]="{'bg-blue-50': activeRoute === '/academics/attendance'}">
                      <!-- Attendance SVG Icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                           class="w-4 h-4" [ngClass]="{
                             'text-blue-600': activeRoute === '/academics/attendance',
                             'text-gray-400 group-hover:text-blue-600': activeRoute !== '/academics/attendance'
                           }">
                        <path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2" />
                        <rect x="9" y="3" width="6" height="4" rx="2" />
                        <path d="M9 14l2 2 4-4" />
                      </svg>
                    </div>
                    
                    <span class="ml-3 text-xs font-medium transition-all duration-300"
                          [ngClass]="{
                            'opacity-0 w-0': isCollapsed,
                            'opacity-100': !isCollapsed,
                            'text-blue-600 font-semibold': activeRoute === '/academics/attendance',
                            'text-gray-600': activeRoute !== '/academics/attendance'
                          }">
                      Attendance
                    </span>
                  </a>
                </li>

                <!-- Time Table -->
                <li class="group">
                  <a [routerLink]="'/academics/timetable'"
                     routerLinkActive="active"
                     (click)="setActiveRoute('/academics/timetable')"
                     class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 ease-in-out
                            hover:bg-white hover:shadow-md hover:shadow-blue-500/5 group"
                     [ngClass]="{'bg-white shadow-md': activeRoute === '/academics/timetable'}"
                     *ngIf="userProfile.role !== 'HOD'">
                    
                    <div class="flex items-center justify-center w-6 h-6 rounded-md transition-all duration-300
                                group-hover:bg-blue-50 group-hover:text-blue-600"
                         [ngClass]="{'bg-blue-50': activeRoute === '/academics/timetable'}">
                      <!-- Timetable SVG Icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                           class="w-4 h-4" [ngClass]="{
                             'text-blue-600': activeRoute === '/academics/timetable',
                             'text-gray-400 group-hover:text-blue-600': activeRoute !== '/academics/timetable'
                           }">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                        <line x1="16" y1="2" x2="16" y2="6" />
                        <line x1="8" y1="2" x2="8" y2="6" />
                        <line x1="3" y1="10" x2="21" y2="10" />
                        <line x1="9" y1="14" x2="15" y2="14" />
                        <line x1="9" y1="17" x2="13" y2="17" />
                      </svg>
                    </div>
                    
                    <span class="ml-3 text-xs font-medium transition-all duration-300"
                          [ngClass]="{
                            'opacity-0 w-0': isCollapsed,
                            'opacity-100': !isCollapsed,
                            'text-blue-600 font-semibold': activeRoute === '/academics/timetable',
                            'text-gray-600': activeRoute !== '/academics/timetable'
                          }">
                      Time Table
                    </span>
                  </a>

                  <!-- HOD Timetable -->
                  <a [routerLink]="'/academics/hod-timetable'"
                     routerLinkActive="active"
                     (click)="setActiveRoute('/academics/hod-timetable')"
                     class="flex items-center px-4 py-2.5 rounded-lg transition-all duration-200 ease-in-out
                            hover:bg-white hover:shadow-md hover:shadow-blue-500/5 group"
                     [ngClass]="{'bg-white shadow-md': activeRoute === '/academics/hod-timetable'}"
                     *ngIf="userProfile.role === 'HOD'">
                    
                    <div class="flex items-center justify-center w-6 h-6 rounded-md transition-all duration-300
                                group-hover:bg-blue-50 group-hover:text-blue-600"
                         [ngClass]="{'bg-blue-50': activeRoute === '/academics/hod-timetable'}">
                      <!-- HOD Timetable SVG Icon -->
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                           class="w-4 h-4" [ngClass]="{
                             'text-blue-600': activeRoute === '/academics/hod-timetable',
                             'text-gray-400 group-hover:text-blue-600': activeRoute !== '/academics/hod-timetable'
                           }">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                        <line x1="16" y1="2" x2="16" y2="6" />
                        <line x1="8" y1="2" x2="8" y2="6" />
                        <line x1="3" y1="10" x2="21" y2="10" />
                        <path d="M8 14h.01" />
                        <path d="M12 14h.01" />
                        <path d="M16 14h.01" />
                        <path d="M8 17h.01" />
                        <path d="M12 17h.01" />
                        <path d="M16 17h.01" />
                      </svg>
                    </div>
                    
                    <span class="ml-3 text-xs font-medium transition-all duration-300"
                          [ngClass]="{
                            'opacity-0 w-0': isCollapsed,
                            'opacity-100': !isCollapsed,
                            'text-blue-600 font-semibold': activeRoute === '/academics/hod-timetable',
                            'text-gray-600': activeRoute !== '/academics/hod-timetable'
                          }">
                      Department Timetable
                    </span>
                  </a>
                </li>
              </ul>
            </div>
          </li>

          <!-- Reports -->
          <li class="relative group">
            <div class="relative">
              <div *ngIf="activeRoute === '/reports'" 
                   class="absolute left-0 top-0 w-1.5 h-full bg-gradient-to-b from-blue-500 to-indigo-600 rounded-r-full"></div>
              
              <a [routerLink]="'/reports'"
                 routerLinkActive="active"
                 (click)="setActiveRoute('/reports'); closeAllSubmenus()"
                 class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 ease-in-out
                        hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 group"
                 [ngClass]="{'bg-white shadow-lg': activeRoute === '/reports'}">
              
                <div class="flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300
                            group-hover:bg-blue-100 group-hover:text-blue-600"
                     [ngClass]="{'bg-blue-100': activeRoute === '/reports'}">
                  <!-- Reports SVG Icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                       class="w-5 h-5" [ngClass]="{
                         'text-blue-600': activeRoute === '/reports',
                         'text-gray-500 group-hover:text-blue-600': activeRoute !== '/reports'
                       }">
                    <rect x="3" y="3" width="18" height="18" rx="2" />
                    <line x1="3" y1="9" x2="21" y2="9" />
                    <line x1="3" y1="15" x2="21" y2="15" />
                    <line x1="9" y1="9" x2="9" y2="21" />
                    <line x1="15" y1="9" x2="15" y2="21" />
                  </svg>
                </div>
                
                <span class="ml-3 text-sm font-medium transition-all duration-300"
                      [ngClass]="{
                        'opacity-0 w-0': isCollapsed,
                        'opacity-100': !isCollapsed,
                        'text-blue-600 font-semibold': activeRoute === '/reports',
                        'text-gray-700': activeRoute !== '/reports'
                      }">
                  Reports
                </span>
              </a>
            </div>
          </li>

          <!-- Calendar -->
          <li class="relative group">
            <div class="relative">
              <div *ngIf="activeRoute === '/calendar'" 
                   class="absolute left-0 top-0 w-1.5 h-full bg-gradient-to-b from-blue-500 to-indigo-600 rounded-r-full"></div>
              
              <a [routerLink]="'/calendar'"
                 routerLinkActive="active"
                 (click)="setActiveRoute('/calendar'); closeAllSubmenus()"
                 class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 ease-in-out
                        hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 group"
                 [ngClass]="{'bg-white shadow-lg': activeRoute === '/calendar'}">
              
                <div class="flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300
                            group-hover:bg-blue-100 group-hover:text-blue-600"
                     [ngClass]="{'bg-blue-100': activeRoute === '/calendar'}">
                  <!-- Calendar SVG Icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                       class="w-5 h-5" [ngClass]="{
                         'text-blue-600': activeRoute === '/calendar',
                         'text-gray-500 group-hover:text-blue-600': activeRoute !== '/calendar'
                       }">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                    <line x1="16" y1="2" x2="16" y2="6" />
                    <line x1="8" y1="2" x2="8" y2="6" />
                    <line x1="3" y1="10" x2="21" y2="10" />
                  </svg>
                </div>
                
                <span class="ml-3 text-sm font-medium transition-all duration-300"
                      [ngClass]="{
                        'opacity-0 w-0': isCollapsed,
                        'opacity-100': !isCollapsed,
                        'text-blue-600 font-semibold': activeRoute === '/calendar',
                        'text-gray-700': activeRoute !== '/calendar'
                      }">
                  Calendar
                </span>
              </a>
            </div>
          </li>

          <!-- Notices -->
          <li class="relative group">
            <div class="relative">
              <div *ngIf="activeRoute === '/notices'" 
                   class="absolute left-0 top-0 w-1.5 h-full bg-gradient-to-b from-blue-500 to-indigo-600 rounded-r-full"></div>
              
              <a [routerLink]="'/notices'"
                 routerLinkActive="active"
                 (click)="setActiveRoute('/notices'); closeAllSubmenus()"
                 class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 ease-in-out
                        hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 group"
                 [ngClass]="{'bg-white shadow-lg': activeRoute === '/notices'}">
              
                <div class="flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300
                            group-hover:bg-blue-100 group-hover:text-blue-600"
                     [ngClass]="{'bg-blue-100': activeRoute === '/notices'}">
                  <!-- Notices SVG Icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                       class="w-5 h-5" [ngClass]="{
                         'text-blue-600': activeRoute === '/notices',
                         'text-gray-500 group-hover:text-blue-600': activeRoute !== '/notices'
                       }">
                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                    <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                  </svg>
                </div>
                
                <span class="ml-3 text-sm font-medium transition-all duration-300"
                      [ngClass]="{
                        'opacity-0 w-0': isCollapsed,
                        'opacity-100': !isCollapsed,
                        'text-blue-600 font-semibold': activeRoute === '/notices',
                        'text-gray-700': activeRoute !== '/notices'
                      }">
                  Notices
                </span>
              </a>
            </div>
          </li>

          <!-- Settings -->
          <li class="relative group">
            <div class="relative">
              <div *ngIf="activeRoute === '/settings'" 
                   class="absolute left-0 top-0 w-1.5 h-full bg-gradient-to-b from-blue-500 to-indigo-600 rounded-r-full"></div>
              
              <a [routerLink]="'/settings'"
                 routerLinkActive="active"
                 (click)="setActiveRoute('/settings'); closeAllSubmenus()"
                 class="flex items-center px-4 py-3 rounded-xl transition-all duration-200 ease-in-out
                        hover:bg-white hover:shadow-lg hover:shadow-blue-500/10 group"
                 [ngClass]="{'bg-white shadow-lg': activeRoute === '/settings'}">
              
                <div class="flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300
                            group-hover:bg-blue-100 group-hover:text-blue-600"
                     [ngClass]="{'bg-blue-100': activeRoute === '/settings'}">
                  <!-- Settings SVG Icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                       class="w-5 h-5" [ngClass]="{
                         'text-blue-600': activeRoute === '/settings',
                         'text-gray-500 group-hover:text-blue-600': activeRoute !== '/settings'
                       }">
                    <circle cx="12" cy="12" r="3" />
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                  </svg>
                </div>
                
                <span class="ml-3 text-sm font-medium transition-all duration-300"
                      [ngClass]="{
                        'opacity-0 w-0': isCollapsed,
                        'opacity-100': !isCollapsed,
                        'text-blue-600 font-semibold': activeRoute === '/settings',
                        'text-gray-700': activeRoute !== '/settings'
                      }">
                  Settings
                </span>
              </a>
            </div>
          </li>
        </ul>
      </nav>

      <!-- Logout Button -->
      <div class="p-4 border-t border-blue-100/30">
        <button (click)="logout()" 
                class="w-full group flex items-center justify-center gap-2 px-4 py-3.5 
                       rounded-xl transition-all duration-300 relative overflow-hidden
                       text-gray-700 hover:text-white
                       active:scale-95">
          <!-- Background gradient that appears on hover -->
          <div class="absolute inset-0 bg-gradient-to-r from-red-500 to-rose-600 opacity-0 
                      group-hover:opacity-100 transition-all duration-300 rounded-xl
                      group-hover:shadow-lg group-hover:shadow-red-500/20"></div>
          
          <div class="relative z-10 flex items-center justify-center w-8 h-8 rounded-lg transition-all duration-300
                      bg-white/0 group-hover:bg-white/20 group-hover:text-white">
            <!-- Logout SVG Icon -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
                 class="w-5 h-5 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
              <polyline points="16 17 21 12 16 7" />
              <line x1="21" y1="12" x2="9" y2="12" />
            </svg>
          </div>
          <span class="relative z-10 text-sm font-medium transition-all duration-300
                      group-hover:font-semibold group-hover:translate-x-0.5"
                [ngClass]="{'opacity-0 w-0': isCollapsed, 'opacity-100': !isCollapsed}">
            Logout
          </span>
        </button>
      </div>
    </div>
  </aside>
</div>
